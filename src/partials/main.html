<div class=""> 
  <script>
   
    /* INJECT_CONFIG_JSON */
    /* INJECT_BUILD_INFO */
 
    window.getLocalTimeFromDateString = function getLocalTimeFromDateString(dateString) {
      const date = new Date(dateString);
      return date.toLocaleTimeString(undefined, {hour: "2-digit", minute: "2-digit" });
    }

    window.getCurrentTimeZoneString = function getCurrentTimeZoneString() {
      return new Date().toString().match(/([A-Z]+[\+-][0-9]+.*)/)[1];
    }
    
  </script>

  <!-- TAILWIND_DEV -->
  <!-- CSS --> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

<section x-data="{   
  CHANNEL_CONFIG, 
  eventDidStart: CHANNEL_CONFIG.eventTimestamps.start < new Date().toISOString(),
  eventDidEnd: CHANNEL_CONFIG.eventTimestamps.end > new Date().toISOString(),
  eventCountdownText: window.timeDifference(new Date(), CHANNEL_CONFIG.eventTimestamps.start, {displayMode: 'full', sign: 'text'}),
  eventBadgeText: this.eventDidStart ? 'Live' : (this.eventDidEnd ? 'Stream ended' : this.eventCountdownText),
  }"> 
  <div class="flex flex-col items-center sm:flex-row sm:justify-between items-end flex-wrap border-bottom pb-4">
    <h1 class="h1" x-text="CHANNEL_CONFIG.title">
    </h1>
    <a :href="CHANNEL_CONFIG.donateDetails.url"  target="_blank" class="sm:block button large px-8 whitespace-no-wrap mb-4" x-text="CHANNEL_CONFIG.donateDetails.title"></a>    
  </div> 

  <div class="mx-2 md:mx-0 sm:mt-16 flex flex-wrap justify-between channel-container" >
      <template x-for="(channel, index) in CHANNEL_CONFIG.channels">
          
          <div class="channel-column">
            <div class="channel-hero--wrapper">

              <a :href="channel.connectionDetails.joinUrl" target="_blank"  class="channel-hero">

                <h1 class="uppercase flex items-center font-weight-bold h5 text-uppercase mt-2">
                  <span x-text="channel.channelTitle" class="block mt-1"></span>
                  <span class="channel-live-badge live ml-2 block" :class="{'live': eventDidStart && !eventDidEnd, 'idle': !eventDidStart || eventDidStart && eventDidEnd}" x-text="eventCountdownText">
                  </span>
                </h1>

                <h2 class="h2 font-weight-bold mb-2 text-center leading-none mt-2">
                  <strong x-text="channel.channelSubject"></strong>  
                </h2>
                
                <span></span>
                
                <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="#fff" stroke-linejoin="round" class="feather feather-play floating-play-icon"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="#000" stroke-linejoin="round" class="feather feather-play background-play-icon"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
              </a> 
              
              <div class="mt-6 sm:mt-12 flex flex-col">
                <a :href="channel.connectionDetails.joinUrl" class="button medium flex-grow" target="_blank" >
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-video"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg>
                  <span class="ml-3 mr-1">Join&nbsp;on&nbsp;Zoom</span>
                  <span></span>
                </a>  

                <a :href="channel.youTubeUrl" class="button medium mt-2"  x-show="channel.youTubeUrl" :class="channel.youTubeUrl ? '' : 'opacity-0'" target="_blank" >
                  <!-- <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg> -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-youtube"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
                  <span class="ml-3 mr-1">Play&nbsp;on&nbsp;YouTube </span>
                  <span></span>
                </a>  

                <button :href="channel.youTubeUrl" class="button medium mt-2" data-toggle="modal" :data-target="'#' + 'channel-schedule-' + index" :id="'#' + 'channel-schedule-' + index + '-button'">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                  <span class="ml-3 mr-1">View&nbsp;Schedule</span>
                  <span></span>
                </button>  
              </div>
            </div>

            <!-- <div class="channel-now-playing-widget mt-8">
              <h2 class="text-xs uppercase border-bottom mb-1 opacity-50 font-semibold mb-1">Now Playing</h2>
              <h3 class="text-xl">Happy, Joyous & Free</h3>
              <h4 class="text-sm">
                <span>Nicholas S</span>
                <span>â€¢</span>
                <span>London, UK</span>
              </h4>
              <a href="#schedule-channel-a" class="button small mt-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar button-icon"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                <span class="ml-2 mr-3">View Schedule</span>
              </a>
            </div>
  -->
            <div class="mt-12 h4">
              <p class="mb-2">
                Zoom ID
                <strong class="font-extrabold" x-text="channel.connectionDetails.zoomId"></strong>
              </p> 

              <p class="mb-2" x-show="channel.connectionDetails.zoomPassword">
                Password
                <strong x-text="channel.connectionDetails.zoomPassword"></strong>
              </p>

              <p>
                <strong>
                  <a href="https://simhp.com/zoom-phone-numbers/"  target="_blank">International Dial-in numbers â€º</a>
                </strong>
              </p>
            </div>

                        <!-- Channel schedule modal-->
          <div :id="'channel-schedule-' + index" class="modal fade" tabindex="-1" role="dialog" :aria-labelledby="'#' + 'channel-schedule-' + index + '-button'" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content mt-4">
                <div class="modal-header">
                  <div class="flex justify-between mt-4">
                    <div>
                      <h1 class="modal-title h2" x-text="channel.scheduleModalTitle"></h1>
                      <p class="h4">Automatically translated to your timezone ðŸ˜Ž</p>
                    </div> 
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                      </span>
                    </button>
                  </div>
                </div>

                <div class="modal-body">
                  <table class="text-center schedule-table" valign="middle">
                    <colgroup>
                      <col span="1" style="width: 10%;">
                      <col span="1" style="width: 45%;">
                      <col span="1" style="width: 45%;">
                   </colgroup>

                    <thead>
                      <tr class="uppercase font-bold">
                        <td>Time (local)</td>
                        <td>Title</td>
                        <td>Details</td>
                      </tr>
                    </thead>

                    <tbody>
                      <template x-for="session in channel.sessions">
                        <tr>
                          <td x-text="getLocalTimeFromDateString(session.startTimestamp)"></td>
                          <td x-text="session.title"></td>
                          <td x-text="session.speaker"></td>
                        </tr>
                      </template>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End of column -->

      </template>
  </div>

  <div>
    <h4>
      <span>Timezone</span>
      <span class="text-primary" x-text="window.getCurrentTimeZoneString()"></span>
    </h4>

    <h4 class="mt-2"> 
      <span x-text="(window.BUILD_INFO.buildType == 'prod' ? 'Production' : 'Development') + ' build'"></span>
      <span x-text="(window.BUILD_INFO.commitHash && window.BUILD_INFO.commitHash.length > 0) ? ' ' + window.BUILD_INFO.commitHash.substring(0,6) : ''" class="text-primary"></span>
    </h4>
    <h4 class="mt-2">
      <span>Deployed </span>
      <span class="text-primary" x-text="window.timeDifference(new Date(), window.BUILD_INFO.builtAt, {displayMode: 'full', sign: 'text'})"></span>
    </h4>
  </div>
</div>
</section>

<!-- JS_LIBS -->  
<!-- JS_INLINE -->